var $=Object.defineProperty,F=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var T=(t,n,a)=>n in t?$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,m=(t,n)=>{for(var a in n||(n={}))I.call(n,a)&&T(t,a,n[a]);if(w)for(var a of w(n))H.call(n,a)&&T(t,a,n[a]);return t},p=(t,n)=>F(t,M(n));import{c as R,a as G,b as P,t as q,d,e as x,R as e,f as Y,r as g,u as v,g as y,h as C,S as B,i as U,j as N,P as j,B as K,k as Q}from"./vendor.044c4581.js";const W=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=a(l);fetch(l.href,r)}};W();const _={FETCH_EVENTS:"FETCH_EVENTS",LOGIN:"LOGIN",LOGOUT:"LOGOUT",ADD_EVENT:"ADD_EVENT"},J={events:[],token:null},X=(t=J,{type:n,payload:a})=>{switch(n){case _.FETCH_EVENTS:return p(m({},t),{events:a});case _.LOGIN:return p(m({},t),{token:a});case _.LOGOUT:return p(m({},t),{token:a});case _.ADD_EVENT:return console.log(a),p(m({},t),{events:[...t.events,a]});default:return t}},Z=[q],ee=R(X,G(P(...Z)));d.configure();const te=()=>async t=>{try{const n=await x.get("https://boiling-cliffs-76513.herokuapp.com/api/v1/events");t(se(n.data.data))}catch(n){d("fetching events failed .... ",n.message);return}},ne=(t,n)=>async a=>{try{const o=await x.post("https://boiling-cliffs-76513.herokuapp.com/api/v1/auth/login",{email:t,password:n});localStorage.setItem("login_token",o.data.data),a(L(o.data.data)),d("login Successfull.........")}catch(o){d("Login in user failed .... ",o.message);return}},ae=()=>async t=>{try{localStorage.clear(),t(re()),d("loggedout..........")}catch(n){d("Logout user failed .... ",n.message);return}},oe=t=>async n=>{try{const a=localStorage.getItem("login_token"),o=await x.post("https://boiling-cliffs-76513.herokuapp.com/api/v1/events",t,{headers:{Authorization:`Bearer ${a}`}});n(le(o.data.data));return}catch(a){d("creating new event failed .... ",a.message);return}},le=t=>({type:_.ADD_EVENT,payload:t}),L=t=>({type:_.LOGIN,payload:t}),re=()=>({type:_.LOGOUT}),se=t=>({type:_.FETCH_EVENTS,payload:t}),ce="_modal_container_1nz1o_1",ie="_modal_header_1nz1o_27";var k={modal_container:ce,modal_header:ie};function ue({singleEvent:t,setOpenModal:n}){const{title:a,description:o,category:l,isVirtual:r,date:c,address:s}=t;return e.createElement("div",{className:k.modal_container},e.createElement("div",null,e.createElement("div",{className:k.modal_header},"Modal Content"),e.createElement("div",null,"Title: ",a),e.createElement("div",null,"Description: ",o),e.createElement("div",null,"Category: ",l),e.createElement("div",null,"Virtual: ",r?"Yes":"No"),e.createElement("div",null,"Date: ",Y(new Date(c),"dddd MMMM Do, YYYY")),e.createElement("div",null,"Address: ",s),e.createElement("button",{onClick:()=>n(!1)},"Close")))}const de="_card_container_11cep_2",_e="_title_11cep_28",me="_category_11cep_34",pe="_container_11cep_40";var b={card_container:de,title:_e,category:me,container:pe};function ge({title:t,category:n,date:a}){return e.createElement("div",{className:b.card_container},e.createElement("div",null,e.createElement("div",{className:b.title},e.createElement("h2",null,t)),e.createElement("div",{className:b.category},e.createElement("h3",null,n))))}const Ee="_text_area_1bsgz_1";var ve={text_area:Ee};function he({handleChange:t,placeholder:n,type:a}){return e.createElement("input",{className:ve.text_area,placeholder:n,type:a,onChange:t})}const fe="_event_container_1rzei_1",ye="_event_form_1rzei_19",Ne="_title_input_1rzei_27",be="_description_input_1rzei_27",Se="_category_input_1rzei_27",xe="_date_input_1rzei_27",Ce="_address_input_1rzei_27",we="_event_button_1rzei_40",Te="_hotlist_1rzei_58",ke="_alert_text_1rzei_68";var S={event_container:fe,"event-title":"_event-title_1rzei_10",event_form:ye,title_input:Ne,description_input:be,category_input:Se,date_input:xe,address_input:Ce,event_button:we,hotlist:Te,alert_text:ke};function Le(){const[t,n]=g.exports.useState(!1),[a,o]=g.exports.useState(null),[l,r]=g.exports.useState(""),c=v(),s=y();g.exports.useEffect(()=>{c(te())},[]);const{events:h,token:A}=C(i=>i),O=i=>{const V=h.find(z=>z._id===i);o(V),n(!0)},D=()=>{s("/add-event")};return e.createElement(e.Fragment,null,A&&e.createElement("div",{className:S.event_button},e.createElement("button",{onClick:D},"Add Event")),e.createElement("div",{className:S.event_container},t&&e.createElement(ue,{singleEvent:a,setOpenModal:n})),e.createElement(he,{type:"text",placeholder:"Search by Category",handleChange:i=>r(i.target.value)}),e.createElement("div",null,h.filter(i=>{if(l==="")return i;if(i.category.toLowerCase().includes(l.toLowerCase()))return i}).slice(0).reverse().map(i=>e.createElement("div",{className:S.hotlist,onClick:()=>O(i._id),key:i._id},e.createElement(ge,{title:i.title,category:i.category,date:i.date})))))}const Ae="_login_container_1p5yl_1",Oe="_login_title_1p5yl_11",De="_form_1p5yl_20",Ve="_email_input_1p5yl_28",ze="_password_input_1p5yl_28",$e="_login_button_1p5yl_37";var E={login_container:Ae,login_title:Oe,form:De,email_input:Ve,password_input:ze,login_button:$e};function Fe(){const[t,n]=g.exports.useState({email:"",password:""}),a=(c,s)=>{n(p(m({},t),{[c]:s}))},o=y(),l=v(),r=()=>{l(ne(t.email,t.password)),o("/")};return e.createElement(e.Fragment,null,e.createElement("div",{className:E.login_container},e.createElement("div",{className:E.login_title},"Login"),e.createElement("form",{className:E.form},e.createElement("div",null,e.createElement("input",{className:E.email_input,onChange:c=>a("email",c.target.value),value:t.email,type:"email",placeholder:"Email"})),e.createElement("div",null,e.createElement("input",{className:E.password_input,onChange:c=>a("password",c.target.value),value:t.password,type:"password",placeholder:"Password"})),e.createElement("button",{className:E.login_button,onClick:r},"Login"))))}const Me="_login_container_s3ohp_1",Ie="_login_title_s3ohp_11",He="_form_s3ohp_20",Re="_email_input_s3ohp_28",Ge="_password_input_s3ohp_28",Pe="_text_input_s3ohp_28",qe="_login_button_s3ohp_37";var u={login_container:Me,login_title:Ie,form:He,email_input:Re,password_input:Ge,text_input:Pe,login_button:qe};d.configure();const Ye=[{value:!0,label:"True"},{value:!1,label:"False"}];function Be(){const t=y(),n=v(),{token:a}=C(s=>s),[o,l]=g.exports.useState({title:"",description:"",category:"",isVirtual:!1,date:"",address:""}),r=(s,h)=>{l(p(m({},o),{[s]:h}))},c=s=>{s.preventDefault(),n(oe(o)),d("Event added successfull....."),t("/")};return e.createElement(e.Fragment,null,a&&e.createElement("div",{className:u.login_container},e.createElement("div",{className:u.login_title},"CREATE AN EVENT"),e.createElement("form",{className:u.form},e.createElement("div",null,e.createElement("input",{className:u.text_input,onChange:s=>r("title",s.target.value),value:o.title,type:"text",placeholder:"Title"})),e.createElement("div",null,e.createElement("input",{className:u.text_input,onChange:s=>r("description",s.target.value),value:o.description,type:"text",placeholder:"Description"})),e.createElement("div",null,e.createElement("input",{className:u.text_input,onChange:s=>r("category",s.target.value),value:o.category,type:"text",placeholder:"Category"})),e.createElement("div",null,e.createElement(B,{defaultValue:o.isVirtual,onChange:s=>r("isVirtual",s.value),options:Ye})),e.createElement("div",null,e.createElement("input",{className:u.text_input,onChange:s=>r("date",s.target.value.split("-").join("/")),value:o.date.split("/").join("-"),type:"date",placeholder:"Date"})),e.createElement("div",null,e.createElement("input",{className:u.text_input,onChange:s=>r("address",s.target.value),value:o.address,type:"text",placeholder:"Address"})),e.createElement("button",{className:u.login_button,onClick:s=>c(s)},"Add"))),!a&&e.createElement("h1",null,"Login to Add an event........."))}function Ue(){const t=v(),n=localStorage.getItem("user-token");return g.exports.useEffect(()=>{t(L(n))}),e.createElement(U,null,e.createElement(N,{index:!0,element:e.createElement(Le,null)}),e.createElement(N,{path:"/login",element:e.createElement(Fe,null)}),e.createElement(N,{path:"/add-event",element:e.createElement(Be,null)}))}var je="/assets/appoga-logo.bd05399e.png";const Ke="_heading_1bdq8_1",Qe="_header_text_1bdq8_35",We="_login_button_1bdq8_43";var f={heading:Ke,header_text:Qe,login_button:We};const Je=()=>{const t=y(),n=v(),{token:a}=C(c=>c),o=()=>{t("/")},l=()=>{t("/login")},r=()=>{n(ae()),t("/")};return e.createElement("div",{className:f.heading},e.createElement("div",{onClick:o},e.createElement("img",{src:je})),e.createElement("div",{className:f.header_text},e.createElement("h2",null,"NEVER MISS AN EVENT WITH TECH-City")),e.createElement("div",null,!a&&e.createElement("div",{className:f.login_button},e.createElement("button",{onClick:l},"Login")),a&&e.createElement("div",{className:f.login_button},e.createElement("button",{onClick:r},"Logout"))))};function Xe(){return e.createElement("div",{className:"container"},e.createElement(j,{store:ee},e.createElement(K,null,e.createElement(Je,null),e.createElement(Ue,null))))}Q.render(e.createElement(e.StrictMode,null,e.createElement(Xe,null)),document.getElementById("root"));
